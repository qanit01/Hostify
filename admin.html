<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Hostify by Abdullah</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="auth.js"></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo-container">
                <img src="assets/logo/log.PNG" alt="Hostify by Abdullah logo" class="logo-img" onclick="window.location.href='index.html'">
            </div>
            <nav class="nav">
                <a href="index.html" class="nav-link">View Website</a>
                <a href="#apartments" class="nav-link">Manage Apartments</a>
                <a href="#settings" class="nav-link">Settings</a>
                <a href="#" class="nav-link logout-btn" onclick="authManager.logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </nav>
        </div>
    </header>

    <main class="admin-main">
        <div class="container">
            <div class="admin-header">
                <h1>Admin Panel</h1>
                <p>Manage your apartment listings and bookings</p>
            </div>

            <!-- Dashboard Stats -->
            <div class="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="total-apartments">0</h3>
                        <p>Total Apartments</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-bed"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="total-rooms">0</h3>
                        <p>Total Rooms</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="stat-content">
                        <h3>4.8</h3>
                        <p>Average Rating</p>
                    </div>
                </div>
            </div>

            <!-- Apartment Management Section -->
            <section id="apartments" class="admin-section">
                <div class="section-header">
                    <h2>Apartment Management</h2>
                    <button class="btn btn-primary" onclick="openAddApartmentModal()">
                        <i class="fas fa-plus"></i> Add New Apartment
                    </button>
                </div>

                <!-- Apartments List -->
                <div class="apartments-list" id="apartments-list">
                    <!-- Apartments will be dynamically loaded here -->
                </div>
            </section>
        </div>
    </main>

    <!-- Add/Edit Apartment Modal -->
    <div id="apartment-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Add New Apartment</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <form id="apartment-form" class="apartment-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="apartment-title">Apartment Title *</label>
                        <input type="text" id="apartment-title" name="title" required>
                    </div>
                    <div class="form-group">
                        <label for="apartment-location">Location *</label>
                        <input type="text" id="apartment-location" name="location" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="apartment-price">Price per Night (PKR) *</label>
                        <input type="number" id="apartment-price" name="price" required>
                    </div>
                    <div class="form-group">
                        <label for="apartment-bedrooms">Bedrooms *</label>
                        <input type="number" id="apartment-bedrooms" name="bedrooms" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="apartment-bathrooms">Bathrooms *</label>
                        <input type="number" id="apartment-bathrooms" name="bathrooms" required>
                    </div>
                    <div class="form-group">
                        <label for="apartment-capacity">Max Guests *</label>
                        <input type="number" id="apartment-capacity" name="capacity" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="apartment-description">Description *</label>
                    <textarea id="apartment-description" name="description" rows="4" required></textarea>
                </div>

                <div class="form-group">
                    <label for="apartment-amenities">Amenities (comma-separated)</label>
                    <input type="text" id="apartment-amenities" name="amenities" placeholder="WiFi, AC, Kitchen, Parking, etc.">
                </div>

                <div class="form-group">
                    <label for="apartment-features">Features (comma-separated)</label>
                    <input type="text" id="apartment-features" name="features" placeholder="2 Bedrooms, 2 Bathrooms, Fully Furnished, etc.">
                </div>

                <div class="form-group">
                    <label for="apartment-images">Image URLs (one per line)</label>
                    <textarea id="apartment-images" name="images" rows="3" placeholder="https://example.com/image1.jpg&#10;https://example.com/image2.jpg"></textarea>
                </div>

                <div class="form-group">
                    <label for="apartment-main-image">Main Image URL *</label>
                    <input type="url" id="apartment-main-image" name="mainImage" required>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary" id="submit-btn">Add Apartment</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal">
        <div class="modal-content delete-modal">
            <div class="modal-header">
                <h2>Confirm Delete</h2>
                <button class="close-btn" onclick="closeDeleteModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this apartment? This action cannot be undone.</p>
                <div class="apartment-preview" id="delete-preview">
                    <!-- Apartment preview will be shown here -->
                </div>
            </div>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="closeDeleteModal()">Cancel</button>
                <button type="button" class="btn btn-danger" onclick="confirmDelete()">Delete Apartment</button>
            </div>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>
